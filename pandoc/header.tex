% LuaLaTeX + ltjsarticle用の設定
\usepackage{luatexja}
\usepackage[hiragino-pron]{luatexja-preset}
\usepackage{geometry}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{listings}
\usepackage{xcolor}
\usepackage[hidelinks]{hyperref}
\usepackage{booktabs}
\usepackage{caption}
\usepackage{float}
\usepackage{graphicx}

% ページ設定
\geometry{
  a4paper,
  left=2.5cm,
  right=2cm,
  top=2.5cm,
  bottom=2.5cm,
  headheight=15pt,
  headsep=20pt,
  footskip=30pt
}

% ヘッダー・フッターの設定
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\thepage}
\fancyhead[LO]{\rightmark}
\fancyhead[RE]{\leftmark}
\renewcommand{\headrulewidth}{0.4pt}

% セクション見出しのスタイル
\titleformat{\section}
  {\normalfont\large\bfseries\color{blue!80!black}}
  {\thesection}{1em}{}
\titleformat{\subsection}
  {\normalfont\normalsize\bfseries\color{blue!60!black}}
  {\thesubsection}{1em}{}

% コードブロックの設定
\definecolor{codebg}{RGB}{248,248,248}
\definecolor{codeframe}{RGB}{232,232,232}
\definecolor{comment}{RGB}{106,153,85}
\definecolor{keyword}{RGB}{86,156,214}
\definecolor{string}{RGB}{206,145,120}
\definecolor{number}{RGB}{181,206,168}

% lstlisting環境の基本設定
\lstset{
  basicstyle=\small\ttfamily,
  breaklines=true,
  breakatwhitespace=true,
  columns=flexible,
  keepspaces=true,
  showstringspaces=false,
  tabsize=2,
  frame=single,
  backgroundcolor=\color{codebg},
  rulecolor=\color{codeframe},
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{keyword}\bfseries,
  commentstyle=\color{comment}\itshape,
  stringstyle=\color{string},
  numberstyle=\color{number},
  xleftmargin=10pt,
  xrightmargin=10pt,
  framexleftmargin=8pt,
  framexrightmargin=8pt,
  captionpos=t,
  aboveskip=15pt,
  belowskip=15pt
}

% リンクの色設定
\hypersetup{
  colorlinks=true,
  linkcolor=blue!80!black,
  urlcolor=blue!80!black,
  citecolor=blue!80!black,
  filecolor=blue!80!black
}
